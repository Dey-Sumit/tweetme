{"version":3,"sources":["lookups/lookup-component.js","lookups/lookup.js","tweets/CreateTweet.js","tweets/Feed.js","tweets/buttons.js","profiles/components.js","tweets/DetailTweet.js","tweets/components.js","index.js"],"names":["lookUp","method","endpoint","callback","data","xhttp","XMLHttpRequest","url","console","log","responseType","open","setRequestHeader","JsonData","csrftoken","name","cookieValue","document","cookie","cookies","split","i","length","trim","substring","decodeURIComponent","getCookie","onload","status","response","detail","window","location","href","indexOf","onerror","e","JSON","stringify","send","apiTweetFeed","nextUrl","undefined","replace","TweetCreate","props","tweet_text_ref","React","createRef","didTweet","handleBackendUpdate","className","action","onSubmit","event","preventDefault","new_val","current","value","required","ref","placeholder","type","TweetFeed","newTweets","useState","tweetsInit","setTweetsInit","tweets","setTweets","tweetDidSet","setTweetDidSet","setNextUrl","useEffect","finalTweets","concat","results","next","username","handleDidRetweet","newTweet","updatedTweetsInit","unshift","updatedFinalTweets","Fragment","map","tweet","index","key","didRetweet","onClick","nextTweets","ActionBtn","didPerformAction","likes","actionDisplay","display","handleBackendAction","tweetId","actionType","id","UserPicture","user","style","UserLink","pathname","children","UserDisplay","includeFullName","fullName","first_name","last_name","ParentTweet","retweeter","parent","hideActions","Tweet","path","idRegex","match","urlTweetId","groups","isDetail","actionTweet","setActionTweet","handlePerformAction","newActionTweet","content","TweetComponent","setNewTweets","canTweet","tempNewTweet","TweetDetailComponent","tweetid","didLookUp","setDidLookUp","setTweet","handleBackendLoopUp","alert","element","getElementById","createElement","dataset","myComponent","ReactDOM","render","elementFeed","querySelectorAll","forEach","container"],"mappings":"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","file":"static/js/main.6db086b4.chunk.js","sourcesContent":["function getCookie(name) {\r\n    var cookieValue = null;\r\n    if (document.cookie && document.cookie !== '') {\r\n        var cookies = document.cookie.split(';');\r\n        for (var i = 0; i < cookies.length; i++) {\r\n            var cookie = cookies[i].trim();\r\n            // Does this cookie string begin with the name we want?\r\n            if (cookie.substring(0, name.length + 1) === (name + '=')) {\r\n                cookieValue = decodeURIComponent(cookie.substring(name.length + 1));\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    return cookieValue;\r\n}\r\n\r\nexport const lookUp = (method, endpoint, callback, data) => {\r\n    const xhttp = new XMLHttpRequest()\r\n    const url = `http://localhost:8000/api${endpoint}`\r\n    console.log(url);\r\n\r\n    xhttp.responseType = \"json\"\r\n    xhttp.open(method, url)\r\n    xhttp.setRequestHeader(\"Content-Type\", \"application/json\")\r\n\r\n    const csrftoken = getCookie('csrftoken');\r\n    if (csrftoken) {\r\n        xhttp.setRequestHeader(\"X-CSRFToken\", csrftoken)\r\n    }\r\n    if (method === \"POST\") {\r\n        xhttp.setRequestHeader(\"X-Requested-With\", \"XMLHttpRequest\")\r\n    }\r\n    xhttp.onload = function () {\r\n        // if not logged in,redirect to login page\r\n        if (xhttp.status === 403 && xhttp.response) {\r\n            const detail = xhttp.response.detail\r\n            if (detail === \"Authentication credentials were not provided.\") {\r\n                if (window.location.href.indexOf(\"login\") === -1) {\r\n                    window.location.href = \"account/login?showLoginRequired=true\"\r\n                }\r\n            }\r\n        }\r\n        callback(xhttp.response, xhttp.status)\r\n    }\r\n    xhttp.onerror = (e) => {\r\n        console.log(\"error\", e)\r\n        callback({\r\n            'msg': 'error on request'\r\n        }, 400)\r\n    }\r\n    let JsonData;\r\n    if (data) {\r\n        JsonData = JSON.stringify(data)\r\n    }\r\n    xhttp.send(JsonData)\r\n}\r\n","import { lookUp } from './lookup-component'\r\n\r\nexport const apiTweetCreate = (data, callback) => {\r\n    lookUp('POST', '/create/', callback, { 'content': data })\r\n}\r\nexport const apiTweetDetail = (tweetId, callback) => {\r\n    lookUp('GET', `/${tweetId}`, callback)\r\n}\r\nexport const apiTweetList = (username, callback, nextUrl) => {\r\n    let endpoint = '/'\r\n    if (username)\r\n        endpoint = `/?username=${username}`\r\n    // change the endpoint if next url is passed\r\n    console.log(nextUrl);\r\n\r\n    if (nextUrl !== null && nextUrl !== undefined) {\r\n        endpoint = nextUrl.replace(\"http://localhost:8000/api\", \"\")\r\n    }\r\n    //\"http://localhost:8000/api/?page=4\",\r\n\r\n    lookUp('GET', endpoint, callback)\r\n}\r\n\r\n\r\nexport const apiTweetFeed = (callback, nextUrl) => {\r\n    let endpoint = '/feed/'\r\n    if (nextUrl !== null && nextUrl !== undefined) {\r\n        endpoint = nextUrl.replace(\"http://localhost:8000/api\", \"\")\r\n    }\r\n    lookUp('GET', endpoint, callback)\r\n}\r\nexport const apiTweetAction = (tweetId, actionType, callback) => {\r\n    const data = { id: tweetId, action: actionType }\r\n    lookUp('POST', '/action', callback, data)\r\n}","import React from 'react'\r\nimport { apiTweetCreate } from '../lookups'\r\n\r\n//create a tweet using tweetCreateAPi call , add it to the list in the server and call again tweetsLoad api,o every time a new tweet comes,call tweetLoad again..\r\n// but we are not following this approach \r\n// app is calling tweetsLoad api only once stored it's response in an array(tweetsInit[])(when first login)\r\n// when new tweet is created ,it is stored in an different array[newTweets[]] and pass it to tweetsList component\r\n// the tweetlist component concat tweetInit[] and newTweets[] ,and create a final array (tweets[]) render it with tweets.map()\r\n// so less api call :)\r\n\r\nexport const TweetCreate = (props) => {\r\n    const tweet_text_ref = React.createRef()\r\n    const { didTweet } = props\r\n\r\n    const handleBackendUpdate = (response, status) => {\r\n        //backend api handler\r\n        if (status === 201)\r\n            didTweet(response)\r\n        else\r\n            console.log(status, response);\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n        const new_val = tweet_text_ref.current.value\r\n        apiTweetCreate(new_val, handleBackendUpdate)\r\n        tweet_text_ref.current.value = ''\r\n    }\r\n\r\n    return (\r\n        <div className=\"col-8 my-4\">\r\n            <form action=\"\" onSubmit={handleSubmit}>\r\n                <textarea required ref={tweet_text_ref} className=\"form-control\" placeholder='tweet it...'></textarea>\r\n                <button type='submit' className='btn btn-secondary mt-2'>tweet</button>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { apiTweetFeed } from '../lookups'\r\nimport { Tweet } from '.'\r\n\r\nexport const TweetFeed = (props) => {\r\n    let { newTweets } = props\r\n    const [tweetsInit, setTweetsInit] = useState([])//initial tweet \r\n    const [tweets, setTweets] = useState([])\r\n    const [tweetDidSet, setTweetDidSet] = useState(false)\r\n    const [nextUrl, setNextUrl] = useState(null)\r\n\r\n    //componentDidUpdate\r\n    useEffect(() => {\r\n        let finalTweets = [...newTweets].concat(tweetsInit)\r\n        //when we have new tweet -->\r\n        //first time tweets.length ==0 (!= final.length),so it updated the tweets which renders tweets.map()\r\n        if (finalTweets.length !== tweets.length) {\r\n            setTweets(finalTweets)\r\n            console.log(\"final tweets Updated\");\r\n        }\r\n    }, [newTweets, tweetsInit, tweets])\r\n\r\n    // renders when component mounts,(triggesrs only when loadTweets changes)\r\n    useEffect(() => {\r\n        if (tweetDidSet === false) {\r\n            console.log(\"tweetsLoadApi called\");\r\n            const handleBackendTweetList = (response, status) => {\r\n                if (status === 200) {\r\n                    setTweetsInit(response.results)\r\n                    setNextUrl(response.next)\r\n                    setTweetDidSet(true)\r\n                }\r\n                else\r\n                    console.log(\"There is an error;probably the django server is not running\");\r\n            }\r\n            apiTweetFeed(handleBackendTweetList)\r\n        }\r\n    }, [tweetsInit, tweetDidSet, setTweetDidSet, props.username])\r\n\r\n    const handleDidRetweet = (newTweet) => {\r\n        // :(\r\n        const updatedTweetsInit = [...tweetsInit]\r\n        updatedTweetsInit.unshift(newTweet)\r\n        setTweetsInit(updatedTweetsInit)\r\n\r\n        const updatedFinalTweets = [...tweets]\r\n        updatedFinalTweets.unshift(newTweet)\r\n        setTweetsInit(updatedFinalTweets)\r\n    }\r\n\r\n    const handleLoadNext = (event) => {\r\n        event.preventDefault()\r\n        if (nextUrl != null) {\r\n            const handleLoadNextResponse = (response, status) => {\r\n                if (status === 200) {\r\n                    var nextTweets = response.results\r\n                    var finalTweets = [...tweets].concat(nextTweets)\r\n                    setTweets(finalTweets)\r\n                    setTweetsInit(finalTweets)\r\n                    setNextUrl(response.next)\r\n                }\r\n                else\r\n                    console.log(\"There is an error;probably the django server is not running\");\r\n\r\n            }\r\n            apiTweetFeed(handleLoadNextResponse, nextUrl)\r\n        }\r\n    }\r\n\r\n    return <React.Fragment> {<div>{\r\n        tweets.map((tweet, index) =>\r\n            <Tweet key={index}\r\n                didRetweet={handleDidRetweet} tweet={tweet} />\r\n        )\r\n    }</div>}\r\n        {nextUrl != null && <button className='btn btn-primary' onClick={handleLoadNext}>Load More</button>}\r\n    </React.Fragment>\r\n}\r\n","import React from 'react'\r\n\r\nimport { apiTweetAction } from '../lookups'\r\n\r\n\r\nexport const ActionBtn = ({ tweet, action, didPerformAction }) => {\r\n    const likes = tweet.likes ? tweet.likes : 0;\r\n    //const [userDidLike, setUserDidLike] = useState(false)\r\n    //const [likes, setLikes] = useState(tweet.likes ? tweet.likes : 0)\r\n\r\n    let className = 'btn btn-primary mt-2 mx-2'\r\n    if (action.type === 'retweet')\r\n        className = `btn mt-2 mx-2 btn-outline-info`\r\n    const actionDisplay = action.display ? action.display : \"action\"\r\n    const handleBackendAction = (response, status) => {\r\n        console.log(response, status)\r\n        if ((status === 200 || status === 201) && didPerformAction) {\r\n            //setLikes(response.likes)\r\n            didPerformAction(response, status)\r\n        }\r\n    }\r\n    const handleClick = (event) => {\r\n        event.preventDefault()\r\n        apiTweetAction(tweet.id, action.type, handleBackendAction)\r\n    }\r\n    const display = action.type === 'like' ? `${likes} ${actionDisplay}` : actionDisplay\r\n    return <button className={className} onClick={handleClick}>{display}</button>\r\n}\r\n","\r\nimport React from 'react'\r\n\r\n\r\nexport const UserPicture = ({ user }) => {\r\n    return <UserLink user={user}>\r\n        <span className=\"px-4 py-2 rounded-circle border text-center bg-secondary\" style={{ 'fontSize': '40px' }}>\r\n            {user.username[0]}\r\n        </span>\r\n    </UserLink>\r\n}\r\n\r\nexport const UserLink = (props) => {\r\n    const { user } = props\r\n    const handleUserLink = (event) => {\r\n        window.location.pathname = `/profile/${user.username}`\r\n    }\r\n    return <span className='pointer' onClick={handleUserLink}>{props.children}</span>\r\n}\r\n\r\nexport const UserDisplay = ({ user, includeFullName }) => {\r\n    console.log(includeFullName);\r\n\r\n    const fullName = includeFullName === true ? `${user.first_name} ${user.last_name}` : null\r\n    console.log(fullName);\r\n    return <React.Fragment>\r\n        {fullName}{\" \"}\r\n        <UserLink user={user}>@{user.username}</UserLink>\r\n    </React.Fragment>\r\n}\r\n","import React, { useState } from 'react'\r\n\r\nimport { ActionBtn } from '.'\r\nimport { UserDisplay, UserPicture } from '../profiles'\r\n\r\nconst ParentTweet = ({ tweet, retweeter }) => {\r\n    return tweet.parent ?\r\n        <div className='bg-secondary'><p className='px-2'>retweet via <UserDisplay user={retweeter} /></p>\r\n            <Tweet hideActions={true} tweet={tweet.parent} />\r\n        </div> : null\r\n}\r\n\r\nexport const Tweet = ({ tweet, didRetweet, hideActions }) => {\r\n    const path = window.location.pathname\r\n    const idRegex = /(?<tweetId>\\d+)/\r\n    const match = path.match(idRegex)\r\n    const urlTweetId = match ? match.groups.tweetId : -1\r\n    const isDetail = `${tweet.id}` === `${urlTweetId}`\r\n    const [actionTweet, setActionTweet] = useState(tweet ? tweet : null)\r\n\r\n    // when triggesrs it gets the response(new tweet data) from server , it changes the state of the action tweet to the response  \r\n    const handlePerformAction = (newActionTweet, status) => {\r\n        if (status === 200)\r\n            setActionTweet(newActionTweet)\r\n        else if (status === 201) {\r\n            if (didRetweet) {\r\n                didRetweet(newActionTweet)\r\n                console.log(\"retweeted\")\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleLink = (event) => {\r\n        event.preventDefault()\r\n        window.location.href = `/${tweet.id}`\r\n    }\r\n\r\n    return (\r\n        <div className=\"card mx-4 my-2\">\r\n            <div className=\"card-body d-flex\">\r\n                <div className=\"col-1\">\r\n                    <UserPicture user={tweet.user} />\r\n                </div>\r\n                <div className=\"col-11\">\r\n                    <div>\r\n                        <p className='pl-2 mx-2 text text-dark bg-white'>\r\n                            <UserDisplay user={tweet.user} includeFullName />\r\n                        </p>\r\n                        <p className='py-2 my-2 text text-dark bg-white border text-center'>\r\n                            {tweet.content}\r\n                        </p>\r\n                        <ParentTweet tweet={tweet} retweeter={tweet.user} />\r\n                    </div>\r\n                    {(actionTweet && hideActions !== true) &&\r\n                        <React.Fragment >\r\n                            <ActionBtn tweet={actionTweet} didPerformAction={handlePerformAction} action={{ 'type': 'like', 'display': 'Likes' }} />\r\n                            <ActionBtn tweet={actionTweet} didPerformAction={handlePerformAction} action={{ 'type': 'unlike', 'display': 'Unlike' }} />\r\n                            <ActionBtn tweet={actionTweet} didPerformAction={handlePerformAction} action={{ 'type': 'retweet', 'display': 'Retweet' }} />\r\n                        </React.Fragment>}\r\n                    {isDetail === true ? null : <button className='btn btn-secondary' onClick={handleLink}> View</button>}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React, { useState, useEffect } from 'react'\r\nimport { TweetCreate, TweetFeed } from '.'\r\nimport { apiTweetDetail } from '../lookups'\r\nimport { Tweet } from './DetailTweet'\r\n\r\nexport const TweetComponent = (props) => {\r\n    const [newTweets, setNewTweets] = useState([])\r\n    const canTweet = props.canTweet === \"false\" ? false : true\r\n    const handleNewTweet = (newTweet) => {\r\n        let tempNewTweet = [...newTweets]\r\n        tempNewTweet.unshift(newTweet)\r\n        setNewTweets(tempNewTweet)\r\n    }\r\n    return (<div>\r\n        {canTweet === true && <TweetCreate didTweet={handleNewTweet} className='mx-2 my-4' />}\r\n        <TweetFeed newTweets={newTweets} {...props} />\r\n        {/* <TweetList newTweets={newTweets} {...props} /> */}\r\n    </div>)\r\n}\r\n\r\nexport const TweetDetailComponent = (props) => {\r\n    const { tweetid } = props\r\n    console.log(tweetid);\r\n\r\n    const [didLookUp, setDidLookUp] = useState(false)\r\n    const [tweet, setTweet] = useState(null)\r\n\r\n    const handleBackendLoopUp = (response, status) => {\r\n        if (status === 200)\r\n            setTweet(response)\r\n        else\r\n            alert(\"There was an error finding your tweet\")\r\n    }\r\n    useEffect(() => {\r\n        console.log(\"use effect called\");\r\n        if (didLookUp === false) {\r\n            apiTweetDetail(tweetid, handleBackendLoopUp)\r\n            setDidLookUp(true)\r\n        }\r\n    }, [tweetid, didLookUp, setDidLookUp])\r\n\r\n    return tweet === null ? null : <Tweet tweet={tweet} />\r\n\r\n}\r\n\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css'\n\n//import App from './App';\n// import * as serviceWorker from './serviceWorker';\n\nimport { TweetComponent } from './tweets/components'\nimport { TweetDetailComponent } from './tweets'\nconst element = document.getElementById(\"tweetme-2\")\n\nconst e = React.createElement\n\n// for tweetList\nif (element) {\n  console.log(element.dataset);\n  const myComponent = e(TweetComponent, element.dataset)\n\n  //ReactDOM.render(<TweetCreationForm />, element)\n  ReactDOM.render(myComponent, element)\n}\n\n\nconst elementFeed = document.getElementById(\"tweetme-feed\")\nif (elementFeed) {\n  const myComponent = e(TweetComponent)\n  //ReactDOM.render(<TweetCreationForm />, element)\n  ReactDOM.render(myComponent, elementFeed)\n}\n\n\nconst tweetDetailElements = document.querySelectorAll(\".tweetme-detail\")\ntweetDetailElements.forEach(container => {\n  ReactDOM.render(\n    e(TweetDetailComponent, container.dataset),\n    container)\n});\n\n\n\n\n\n\n\n\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\n// serviceWorker.unregister();\n"],"sourceRoot":""}