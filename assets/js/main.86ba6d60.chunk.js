(this.webpackJsonptweetme_reactjs=this.webpackJsonptweetme_reactjs||[]).push([[0],{12:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(6),o=n.n(r),l=n(4),s=n(1),i=function(e){var t=e.newTweets;console.log(t);var n=Object(a.useState)([]),r=Object(s.a)(n,2),o=r[0],i=r[1],m=Object(a.useState)([]),p=Object(s.a)(m,2),b=p[0],f=p[1];return Object(a.useEffect)((function(){var e=Object(l.a)(t).concat(o);e.length!==b.length&&f(e)}),[t,o,b]),Object(a.useEffect)((function(){console.log("use effect");!function(e){var t=new XMLHttpRequest;t.responseType="json",t.open("GET","http://localhost:8000/api/"),t.onload=function(){e(t.response,t.status)},t.onerror=function(t){console.log(t),e({m:"error on request"},400)},t.send()}((function(e,t){200===t?i(e):console.log("There is an error;probably the django server is not running")}))}),[]),c.a.createElement("div",null,b.map((function(e,t){return c.a.createElement(u,{key:t,tweet:e})})))},u=function(e){var t=e.tweet;return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card-body"},c.a.createElement("h5",{className:"card-title"},t.id),c.a.createElement("p",{className:"py-2 my-2 text text-dark bg-white border text-center"}," ",t.content),c.a.createElement("div",{className:"btn btn-group"},c.a.createElement(p,{tweet:t,action:{type:"like",display:"Likes"}}),c.a.createElement(p,{tweet:t,action:{type:"unlike",display:"Unlike"}}),c.a.createElement(p,{tweet:t,action:{type:"retweet",display:"Retweet"}}))))},m=function(e){var t=Object(a.useState)([]),n=Object(s.a)(t,2),r=n[0],o=n[1],u=c.a.createRef();return c.a.createElement("div",null,c.a.createElement("div",{className:"col-8 my-4"},c.a.createElement("form",{action:"",onSubmit:function(e){e.preventDefault(),console.log(e);var t=u.current.value;console.log(t),u.current.value="";var n=Object(l.a)(r);n.unshift({content:t,likes:0,id:1234}),o(n)}},c.a.createElement("textarea",{required:!0,ref:u,className:"form-control",placeholder:"tweet it..."}),c.a.createElement("button",{type:"submit",className:"btn btn-secondary mt-2"},"tweet"))),c.a.createElement(i,{className:"mt-10",newTweets:r}))},p=function(e){var t=e.tweet,n=e.action,r=Object(a.useState)(t.likes?t.likes:0),o=Object(s.a)(r,2),l=o[0],i=o[1],u=Object(a.useState)(!1),m=Object(s.a)(u,2),p=m[0],b=m[1],f="btn btn-primary mt-2 mx-2";"retweet"===n.type&&(f="btn mt-2 mx-2 btn-outline-info");var d=n.display?n.display:"action",v="like"===n.type?"".concat(l," ").concat(d):d;return c.a.createElement("button",{className:f,onClick:function(e){e.preventDefault(),console.log(n.type),"like"===n.type&&(p?(i(l-1),b(!1)):i(l+1))}},v)};var b=document.getElementById("tweetme-2");b&&o.a.render(c.a.createElement(m,null),b)},7:function(e,t,n){e.exports=n(12)}},[[7,1,2]]]);
//# sourceMappingURL=main.86ba6d60.chunk.js.map